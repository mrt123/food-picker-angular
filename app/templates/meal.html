<table class="meal">
    <tr>
        <th class="" rowspan="3">Food</th>
        <th class="amount" rowspan="3">weight (gram)</th>
        <th class="protein" rowspan="3">protein</th>
        <th class="carbs" colspan="2" rowspan="2">carbs</th>
        <th class="fat" colspan="4">fat</th>
        <th class="kcal" rowspan="3">calories</th>
        <th class="gi" rowspan="3">glycemic index</th>
        <th class="gl" rowspan="3">glycemic load</th>
    </tr>
    <tr>
        <th class="poli" colspan="2">poli unsaturated</th>
        <th class="mono" rowspan="2">mono unsaturated</th>
        <th class="saturated" rowspan="2">saturated</th>
    </tr>
    <tr>
        <th class="complex">complex</th>
        <th class="sugar">sugar</th>
        <th class="omega3">omega3</th>
        <th class="omega6">omega6</th>
    </tr>
    <!--<tr ng-include="'templates/food.html'" ng-repeat="x in foodList track by $index" class="foodItem selectedFood" ng-controller="FoodCtrl">-->
        <!--<ng-include src="'templates/food.html'"> </ng-include>-->
    <!--</tr>-->

    <!--TODO: change FoodCtrl into a directive! -->
    <!--<tr my-food-row ng-repeat="x in foodList track by $index" class="foodItem selectedFood">-->

    <tr ng-repeat="x in foodList track by $index" class="foodItem selectedFood" ng-controller="FoodCtrl">
        <td>
            <select my-select2 ng-model="chosenFoodName"
                    tabindex="5"
                    class="foodSelector" data-placeholder="choose your food">

                <option value=""></option>
                <option ng-repeat="food in foodData" value="{{food.name}}">{{food.name}}</option>
            </select>
        </td>

        <td>
            <input ng-model="chosenFood.amount" type="number" min="1" max="999" maxlength="3" class="amountSelector"
                   required>
        </td>

        <td ng-repeat="nutrient in nutrients">{{chosenFood[nutrient] * chosenFood.amount / 100 | nutrientValue}}</td>
        <td>{{chosenFood.gi}}</td>
        <td>{{chosenFood.gi  * chosenFood.amount / 100 | nutrientValue}}</td>
    </tr>

    <tr class="summary">
        <td rowspan="2">Total</td>
        <td rowspan="2"></td>
        <td rowspan="2">{{summary.protein | nutrientValue}}</td>
        <td>{{summary.complex | nutrientValue}}</td>
        <td>{{summary.sugar | nutrientValue}}</td>
        <td>{{summary.o3 | nutrientValue}}</td>
        <td>{{summary.o6 | nutrientValue}}</td>
        <td>{{summary.monoUnsaturated | nutrientValue}}</td>
        <td>{{summary.saturated | nutrientValue}}</td>
        <td rowspan="2">{{summary.calories | nutrientValue}}</td>
        <td rowspan="2">{{gi}}</td>
        <td rowspan="2">{{}}</td>
    </tr>
    <tr class="summary">
        <td colspan="2" class="carbsSummaryValue">{{summary.carbs | nutrientValue}}</td>
        <td colspan="4" class="fatSummaryValue">{{summary.fat | nutrientValue}}</td>
    </tr>
</table>